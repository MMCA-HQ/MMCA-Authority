<div class="panel" style="border-color: var(--gold);">
        <h2 style="color: var(--gold);">ثانياً: لوحة الشرف (نتائج اجتياز الدورات)</h2>
        <p style="font-size: 0.8rem; color: #aaa;">يظهر هنا نتائج الأبطال النهائية بعد انتهاء الدورة</p>
        <table>
            <thead>
                <tr>
                    <th>المتدرب</th>
                    <th>الكود</th>
                    <th>الدورة</th>
                    <th>النتيجة النهائية</th>
                </tr>
            </thead>
            <tbody id="passingBody">
                <tr><td colspan="4">بانتظار اعتماد النتائج النهائية...</td></tr>
            </tbody>
        </table>
    </div>

    <style>
        /* إضافة ألوان النتائج النهائية */
        .pass-success { color: #2ecc71; font-weight: bold; } /* أخضر للناجح */
        .pass-failed { color: #e74c3c; font-weight: bold; }  /* أحمر للراسب */
        .pass-waiting { color: #aaa; } /* رمادي للانتظار */
    </style>

    <script>
        // تحديث منطق العرض في الجافاسكريبت داخل دالة db.ref().on('value', ...)
        db.ref('applications').on('value', (snapshot) => {
            const apps = snapshot.val();
            const passBody = document.getElementById('passingBody');
            let passHtml = "";

            if (apps) {
                for (let id in apps) {
                    const a = apps[id];

                    // إظهار المتدرب في لوحة الشرف فقط إذا كان مقبولاً وبدأت حالته تتغير (ناجح أو راسب)
                    // أو يمكنك إظهار الجميع حسب رغبتك، هنا جعلناه يظهر النتيجة النهائية
                    if (a.status === 'مقبول') {
                        let passClass = "pass-waiting";
                        let passText = a.pass || "بانتظار الدورة";

                        if (a.pass === 'ناجح' || a.pass === 'تم الاجتياز') {
                            passClass = "pass-success";
                            passText = "تم الاجتياز بنجاح";
                        } else if (a.pass === 'راسب' || a.pass === 'عدم اجتياز') {
                            passClass = "pass-failed";
                            passText = "لم يتم الاجتياز";
                        }

                        passHtml += `<tr>
                            <td>${a.name}</td>
                            <td>${a.code}</td>
                            <td>${a.course}</td>
                            <td class="${passClass}">${passText}</td>
                        </tr>`;
                    }
                }
                passBody.innerHTML = passHtml || '<tr><td colspan="4">لا توجد نتائج معتمدة حالياً</td></tr>';
            }
        });
    </script>
